<!DOCTYPE html>

<html>
    <head>
        <title>Key Responder</title>
    </head>

    <body>
        <div align="center">
            <h1>Live Feed</h1>
        </div>

        <form method="post" action="/">
            <input type="submit" name="on" value="on">
            <input type="submit" name="off" value="off">
        </form>
    </body>

    <script>
        window.addEventListener('keydown', ((evt) => {
            const direction = evt.key.replace('Arrow', '');
            console.log(direction)

            // Create request
            const request = new XMLHttpRequest();
            const address = '/key_press';
            request.open("POST", address, true);

            // Send the proper header information
            request.setRequestHeader("Content-type", "application/json");

            // Send parameters
            const params = JSON.stringify({"keyVal": direction});
            request.send(params)
        }));
    </script>
</html>
